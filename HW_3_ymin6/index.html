<!DOCTYPE html><html><head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js"></script>
    <script src="https://mcb419.github.io/js/mplot.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8">
    <script src="Bot.js"></script>
    <script src="Pellet.js"></script>
    <script src="sketch.js"></script>
  </head>
  <body>
    <h2>MCB 419 - HW03 - wandering behavior</h2>
    <div id="canvas"></div>
    wanderNoise: <input id="noise" value="0.3" size="5" oninput="setNoise()">
    <button id="reset" onclick="reset()">Reset</button>
    <button id="run" onclick="run()">Run</button>
    <button id="stop" onclick="stop()">Stop</button>
    <input type="checkbox" id="warp">Warp speed
    <br>
    <span style="padding-right:30px">&nbsp;</span>
    <button id="addpt" onclick="addPoint()">Add Data Point</button>
    <button id="clf" onclick="clf()">Clear Figure</button>
    <br>
    <canvas id="fig1" width="400" height="300"></canvas>
    <br>
    Simulation Duration (/tick): <input id="duration" value="5000" size="4">
    Sample Number: <input id="stepSize" value="0.1" size="3">
    <button id="sim" onclick="simulation()">Simulation</button>
    <br>
    <!--  My anser to the questions!  -->
    <h3>Questions
    </h3>

    <ol>
    <li>
        <question>When the bot moves in a straght line it sweeps out a rectangular path with a width equal
        to the bot diameter and a length equal to the distance traveled (velocity times time). Using the
        density of pellets in the arena, calculate the average energy collected per unit time for such a
        path, ignoring the effects of boundaries (this is a calculation, not a simulation).</question>
        <br>
        <user>
        At the speed of 3 pixel/tick, the area covered in unit time (1 tick) is a ractangle of length 3 and height 3. The total area of the sweep is <img src="http://latex.codecogs.com/svg.latex?\pi r^2+3\times 3 " border="0"/>. Knowing the density of the pellets, the average number of "food" collected in unit time is <img src="http://latex.codecogs.com/svg.latex?\frac{100}{width\times height} \times (\pi r^2 + 3\times 3)=0.0233" border="0"/> energy.
        </user>
    </li>
    <br>

    <li>
        <question>Based on the graph that you created, approximately what value of wanderNoise appears to be optimal?</question><br>
        <user>
        Base on simulation of 5000 update, the optimal range appeared to be at 0.4 - 0.6.
        </user>
    </li>
    <br>

    <li>
        <question>At the optimal noise level, what is the numerical value of foraging efficiency, as determined from your graph?
        How does this compare to the theoretical
        value calculated in question 1? Why are these values different?</question><br>
        <user>
        From the graph, the foraging efficiency is ~0.05. It is twice as large as the value in Q1 (0.0233). The difference is caused by the redistrubution of the food pellets after comsumed. It is less likely of the food pellets to appear on the same path. Adding randomness increased the chance for making contact with another food pellets.
        </user>
    </li>
    <br>

    <li>
        <question>Why does foraging efficiency decrease at lower values of wanderNoise relative to the optimum?</question><br>
        <user>
        There is not enough randomness to drive the change in direction. The bot is still moving on the same path.
        </user>
    </li>
    <br>

    <li>
        <question>Why does foraging efficiency decrease at higher values of wanderNoise relative to the optimum?</question><br>
        <user>
        With too high of a randomness, the bot is essentially changing direction constantly. Because the range of the random() function, it ultimately makes the bot wander at the same place.
        </user>
    </li>
    </ol>

    <h3>
        Attachement
    </h3>
    <ol>
        If we ran each bot for 100,000 ticks, we get the following plot.
        <br>
        <img src="./results.png">
    </ol>

</body></html>
